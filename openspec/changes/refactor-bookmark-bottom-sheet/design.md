## 背景
ブックマーク編集の処理が複数のViewModelに分散しており、同等のロジックが重複している。シート表示時のみ必要な処理はViewModelではなく軽量なステートホルダーにまとめる。

## 目標 / 非目標
- 目標:
- シート専用の状態と処理を一箇所に集約する
- 単体編集（板/スレ）と一括編集（ブックマーク選択）の両方を同じ入口で扱う
- 画面側ViewModelから依存を渡して生成・破棄する方式に統一する
- 星表示などの常駐状態は画面ViewModel側で購読する
- 非目標:
  - ブックマークUI/UXの再設計
  - Repository APIやDBスキーマの変更

## 決定事項
- 決定: ViewModelではなく `BookmarkBottomSheetStateHolder`（仮名）を導入し、シート表示時にのみ生成する。
  - 理由: シート表示中だけ必要な状態・処理のため軽量なライフサイクルで十分。
- 決定: 依存は画面側ViewModelから渡す（UI層が直接DIに触れない）。
  - 理由: 画面の責務を保ちつつDIの露出を避ける。
- 決定: ツールバーの星表示など常駐が必要な状態は画面ViewModelで購読して保持する。
  - 理由: シート非表示中でもブックマーク状態を更新し続ける必要があるため。

## 代替案
- `hiltViewModel()` でシート用ViewModelを作る
  - 却下: 画面に紐づき短命にならず、シート表示時だけの生成/破棄にならない。
- 既存 `SingleBookmarkViewModel` を残してラップする
  - 却下: 重複ロジックが残る。

## リスク / トレードオフ
- シート用ステートホルダーが短命になるため、回転等で入力状態が消える可能性がある。
  - 対策: 必要なら画面側ViewModelで一時値を保持する。

## 移行手順
1. ステートホルダーと `UiState` を追加する。
2. 画面ViewModelが依存を渡してステートホルダーを生成する流れに置き換える。
3. `ThreadViewModel` / `BoardViewModel` / `BookmarkListViewModel` のブックマーク処理を委譲に切り替える。
4. 旧 `SingleBookmarkViewModel` を削除する。

## 未決事項
- 一括編集で「板とスレの混在選択」を許可するか。
