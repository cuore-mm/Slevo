## ADDED Requirements

### Requirement: 共有・外部アプリ起動前処理での表示済み画像データ再利用
システムはスレッド画面および画像ビューア画面から起動する画像共有系アクション（共有、外部アプリ起動）において、表示済み画像データから再利用可能な共有URIを優先して使用しなければならないMUST。再利用に失敗した場合のみ、既存のURL取得フローへフォールバックしなければならないMUST。

#### Scenario: 表示済み画像の共有で再利用URIを優先する
- **WHEN** ユーザーが一度表示済みの画像に対して共有または外部アプリ起動を実行する
- **THEN** システムは再利用可能な共有URIを優先的に使用してアクションを開始する

#### Scenario: 再利用不可時は既存取得フローへフォールバックする
- **WHEN** 再利用用メタデータが未登録または無効で共有URIを復元できない
- **THEN** システムは既存のURL取得フローへ切り替え、共有または外部アプリ起動を継続する

### Requirement: 共有準備中状態の明示
システムは共有系アクションの共有URI準備中に、ユーザーへ処理中状態を明示しなければならないMUST。準備完了後は状態表示を解除し、Intent起動または失敗通知へ遷移しなければならないMUST。

#### Scenario: 共有準備中は処理中状態を表示する
- **WHEN** ユーザーが共有または外部アプリ起動を開始し、共有URI準備が完了していない
- **THEN** システムは処理中状態を表示し、同一操作の多重発火を防止する

#### Scenario: 準備失敗時は既存の失敗通知契約を維持する
- **WHEN** 再利用とフォールバックの双方で共有URI準備に失敗する
- **THEN** システムは既存の失敗通知文言を表示して処理を終了する
