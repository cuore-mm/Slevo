## 1. 再利用基盤の追加

- [ ] 1.1 画像URLと表示成功時の再利用メタデータを関連付ける共通レジストリを実装する
- [ ] 1.2 レジストリの保持件数または有効期限ルールを定義し、不要エントリを自動削除する

## 2. 表示パイプラインとの連携

- [ ] 2.1 スレッド画面の画像表示成功時に再利用メタデータを登録する
- [ ] 2.2 画像ビューアの画像表示成功時に再利用メタデータを登録する
- [ ] 2.3 画面終了や対象切替で再利用メタデータの不整合が起きないよう更新契約を統一する

## 3. 共有/外部起動前処理の改善

- [ ] 3.1 `ImageMenuActionRunner` の共有系アクションで再利用URI優先 + URL取得フォールバックの二段階フローを実装する
- [ ] 3.2 再利用失敗時は既存の失敗通知契約を維持しつつ処理継続する

## 4. UI状態表示

- [ ] 4.1 共有URI準備中の状態をUIへ伝搬し、処理中表示と多重タップ抑止を実装する
- [ ] 4.2 準備完了・失敗・キャンセル時に状態解除が漏れないことを確認する

## 5. 検証

- [ ] 5.1 スレッド画面と画像ビューア画面の双方で、共有/外部起動が従来機能を維持することを確認する
- [ ] 5.2 表示済み画像の再共有で待ち時間が短縮されることを確認する
- [ ] 5.3 フォールバック経路（再利用不可時）で共有/外部起動が失敗せず動作することを確認する
- [ ] 5.4 CI（Android CI）を実行し、ビルドとテストが成功することを確認する
