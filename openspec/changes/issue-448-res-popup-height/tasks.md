## 1. 段数別最大高さロジックの実装

- [ ] 1.1 `ReplyPopup` の最大高さ計算に段数（表示インデックス）入力を追加し、2段目以降で段階縮小が適用されるようにする
- [ ] 1.2 最大高さ比率に下限値を導入し、深い段数でも高さが下限未満にならないようクランプする
- [ ] 1.3 既存の `heightIn(max = ...)` 適用構造を維持し、スクロールバー表示条件とポップアップ内操作契約に回帰がないことを確認する

## 2. テストと確認

- [ ] 2.1 段数に応じた比率計算（単調減少・下限クランプ）を検証するユニットテストを追加する
- [ ] 2.2 2段目以降のポップアップが段階的に小さく見えることを UI 上で確認する
- [ ] 2.3 深い段数でポップアップを重ねた際にも、下限値により可読性が保たれることを確認する
