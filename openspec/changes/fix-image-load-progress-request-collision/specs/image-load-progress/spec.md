## ADDED Requirements

### Requirement: 同一URL並行読込時の進捗状態独立性
システムは同一 URL の画像読み込みリクエストが同時に複数存在する場合、各リクエストの進捗状態を独立して追跡しなければならないMUST。あるリクエストの完了、失敗、またはキャンセルは、同一 URL の他リクエストの進捗状態を終了させてはならないMUST。

#### Scenario: 先行完了リクエストが後続リクエスト表示を消さない
- **WHEN** 同一 URL の画像が 2 つの表示領域で同時に読み込まれ、先に一方が完了する
- **THEN** システムは未完了側リクエストの進捗状態を保持し、進捗表示を継続する

#### Scenario: 失敗リクエストが他リクエスト状態に影響しない
- **WHEN** 同一 URL の並行読み込みのうち一方が通信失敗する
- **THEN** システムは失敗したリクエストのみ進捗状態を終了し、他方の進捗状態を維持する

### Requirement: URL単位進捗公開契約の維持
システムは内部で request 単位管理を行う場合でも、UI に対しては URL 単位で進捗状態を提供し続けなければならないMUST。既存の進捗購読側は URL キーを用いた参照契約を変更せず利用できなければならないMUST。

#### Scenario: 既存UIがURLキーで進捗状態を取得できる
- **WHEN** UI が従来どおり画像 URL をキーとして進捗状態を参照する
- **THEN** システムは URL 単位に集約された進捗状態を返し、呼び出し側インターフェースを維持する

#### Scenario: URL単位集約中も進捗状態が不整合を起こさない
- **WHEN** 同一 URL に複数 request 状態が存在し、順不同で更新・完了イベントが発生する
- **THEN** システムは最新の未完了 request 群に基づいて URL 単位進捗を算出し、不正な即時消失を起こさない
