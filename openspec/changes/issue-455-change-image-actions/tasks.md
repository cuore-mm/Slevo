## 1. 状態判定とアクション契約の整理

- [x] 1.1 画像読み込み状態（成功/404-410失敗/その他失敗/読み込み中）を共通に判定できる契約を定義する
- [x] 1.2 状態ごとの表示可能アクション集合（スレッド画面・画像ビューア画面）を実装方針に沿って確定する

## 2. スレッド画面の状態連動メニュー実装

- [x] 2.1 `ImageMenuSheet` を状態連動表示へ変更し、404/410・その他失敗・読み込み中で表示項目を切り替える
- [x] 2.2 シート表示中の状態変化でシートを閉じずに内容をアニメーション付き差し替えする
- [x] 2.3 スレッド側の状態入力（失敗種別・読み込み中判定）をメニュー表示判定へ接続する

## 3. 画像ビューア画面の状態連動アクション実装

- [x] 3.1 `ImageViewerTopBar` のその他メニューを状態連動表示へ変更し、要件どおりのアクション制限を適用する
- [x] 3.2 `DropdownMenu` 表示中の状態変化でメニューを閉じずに内容をアニメーション付き差し替えする

## 4. 共通実行経路と回帰確認

- [x] 4.1 成功時の既存アクション（保存/共有/コピー/外部起動/検索/一括保存）が従来どおり動作することを確認する
- [x] 4.2 状態別表示と表示対象外アクション非実行を検証する単体テストを追加または更新する
- [x] 4.3 メニュー表示中の状態変化で内容差し替えアニメーションが適用されることを確認する
