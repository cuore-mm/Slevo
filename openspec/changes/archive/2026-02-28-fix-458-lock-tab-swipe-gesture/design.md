## Context

Issue #458 では、スレッド画面を縦スクロールしている最中に、まれに隣接タブへ誤遷移する事象が報告されている。現状は `BbsRouteScaffold` の本文側で `draggable(Orientation.Horizontal)` を重ねて横移動を抑止しているが、ドラッグ開始角度や親子のジェスチャー競合タイミングにより、`HorizontalPager` 側へ横入力が漏れるケースがある。

本変更では、入力方向を開始時点で明示分類し、イベント消費責務を固定する。対象は本文/ミニマップなどのコンテンツ領域であり、ボトムバーのタブ操作導線は対象外とする。

## Goals / Non-Goals

**Goals:**
- 本文領域でのドラッグ開始方向を「横/縦/斜め」に分類し、誤ったタブ切り替えを防止する。
- 横ドラッグ開始時はジェスチャー機能を維持しつつ、`HorizontalPager` のページ遷移を発火させない。
- 縦ドラッグ開始時は従来どおり本文スクロールを継続できる。
- 斜めドラッグ開始時は無効入力として扱い、横遷移も縦スクロールも確定させない。

**Non-Goals:**
- タブ切り替え導線（ボトムバー・明示操作）の仕様変更。
- 既存ジェスチャー割り当て設定（アクション定義や設定UI）の拡張。
- ミニマップ描画ロジックや投稿表示ロジックの変更。

## Decisions

1. 本文ブロックの横抑止は `draggable` ではなく `pointerInput` ベースへ置換する。
   - 理由: 方向確定前後のイベント消費を明示制御でき、親Pagerへの横入力伝播を抑えやすい。
   - 代替案: `draggable` 継続 + 感度調整。却下理由は、競合タイミングの不確実性を解消しにくいこと。

2. ドラッグ開始方向はしきい値超過時に単一ロックする（途中で再判定しない）。
   - 横優勢: ジェスチャー系ハンドラへ委譲し、親Pagerへは伝播させない。
   - 縦優勢: 本文スクロールへ委譲する。
   - 斜め（優勢なし）: 無効入力として消費し、誤遷移を防ぐ。
   - 代替案: 連続再判定。却下理由は、途中反転による予期しない挙動増加。

3. 方向分類の判定係数は実装時に定数化し、再現試験で微調整可能にする。
   - 理由: 端末差・操作癖による体感差を吸収するため。
   - 代替案: 厳密な45度固定。却下理由は、ユーザー操作のばらつきに対して硬すぎる。

## Risks / Trade-offs

- [斜め入力の無効化により反応しない体感が増える] → 判定係数を定数化し、操作感の回帰確認を受け入れ条件に含める。
- [横ドラッグの先行消費で既存ジェスチャーが取りこぼされる] → 既存ジェスチャー有効時の横開始ケースを手動検証項目に追加する。
- [画面ごとの入力モディファイア順で挙動がぶれる] → 変更対象を `BbsRouteScaffold` の共通本文入口に限定し、スレッド/板の共通経路で一貫適用する。

## Migration Plan

1. `BbsRouteScaffold` の本文修飾子を `pointerInput` ベースの方向分類ロジックへ置換する。
2. 受け入れ条件に沿って手動確認（本文縦スクロール、ミニマップ縦ドラッグ、横開始ジェスチャー、斜め開始）を実施する。
3. 問題があれば判定係数のみを調整し、ロジック分岐は維持する。

ロールバックは `draggable` ベースの既存実装へ戻すことで可能とする。

## Open Questions

- なし（本変更は issue #458 の再現条件に合わせてスレッド画面中心で適用する）。
