## ADDED Requirements

### Requirement: 失敗状態のUiState保持
システムは投稿サムネイル、画像ビューア本体、画像ビューア下部サムネイルの画像読み込み失敗状態を、Composable ローカル状態ではなく `UiState` として ViewModel が保持しなければならないMUST。

#### Scenario: 画面再生成後も失敗状態を維持する
- **WHEN** ユーザーが失敗表示中の画像を含む画面で再生成（スクロール再構築・再コンポーズ・親再作成）を経る
- **THEN** システムは `UiState` から失敗状態を再適用し、失敗表示を維持する

### Requirement: 失敗状態時の非リクエスト契約の永続化
システムは `UiState` 上で失敗状態にある画像について、画面再生成後も自動再取得を開始してはならないMUST。再取得は明示リロード操作時のみ開始しなければならないMUST。

#### Scenario: スレッドサムネイル再表示でもローディングへ戻らない
- **WHEN** ユーザーがスレッド画面の失敗表示サムネイルを画面外へ出して再表示する
- **THEN** システムはローディング表示を介さず失敗アイコン表示を維持する

#### Scenario: ビューアページ離脱復帰でもローディングへ戻らない
- **WHEN** ユーザーが画像ビューアの失敗表示ページから別ページへ移動して戻る
- **THEN** システムはローディング表示を介さず失敗オーバーレイを維持する

#### Scenario: 明示リロード時のみ再取得を開始する
- **WHEN** ユーザーが失敗表示中のリロード操作を行う
- **THEN** システムは当該画像のみ再取得を開始する

### Requirement: URLキー基準の失敗状態整合
システムは失敗状態の識別キーを URL 基準で管理し、表示順序や index 変化があっても失敗状態の対応対象を維持しなければならないMUST。

#### Scenario: 画像一覧の再構築後も同一URLの失敗状態を維持する
- **WHEN** 画像一覧の再構築で index が変化する
- **THEN** システムは同一URLに紐づく失敗状態を維持し、別画像へ誤適用しない
