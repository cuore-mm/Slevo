## Context
画像ビューアのサムネイルバーは `LazyRow` で描画され、選択状態は `PagerState` の現在ページに依存している。現在はサムネイルバーのスクロール位置と表示画像の選択が一致しないため、中央のサムネイルが常に選択状態になる体験になっていない。

## Goals / Non-Goals
- Goals:
  - サムネイルバーの中心に最も近いサムネイルを選択状態として扱う。
  - サムネイルバーのスクロールに合わせて表示画像をリアルタイムで切り替える。
  - 画像のスワイプ/タップによる表示切替時に、サムネイルバーが該当サムネイルを中央に表示する。
- Non-Goals:
  - 画像一覧の生成ロジックやデータ取得の変更。
  - サムネイル表示のレイアウト刷新やデザイン変更。

## Decisions
- `LazyListState.layoutInfo.visibleItemsInfo` を用いて可視アイテムの中心位置を計算し、表示領域の中心に最も近いサムネイルのインデックスを導出する。
- スクロールに伴う選択更新は `snapshotFlow` で `LazyListState` の変化を監視し、インデックスが変わった場合のみ `PagerState` を更新する。
- ページャの変更に対するサムネイルバーの追従は、`PagerState` の変更を検知して `LazyListState` を中央位置へスクロールさせる。
- フィードバックループ防止のため、スクロール中 (`isScrollInProgress`) とプログラムスクロールの区別を行い、必要時のみ同期を行う。

## Risks / Trade-offs
- スクロールとページ切替が相互に発火してループするリスクがある。
  - Mitigation: 更新元を判定するフラグや `distinctUntilChanged` を使い、同一インデックスの再適用を避ける。
- スクロール中の高頻度更新による描画負荷が発生する可能性がある。
  - Mitigation: 中央に最も近いインデックスの変化時のみページ切替を行う。

## Migration Plan
- 既存のサムネイルバー/ページャ同期に対する追加実装であり、データ移行は不要。

## Open Questions
- なし。
