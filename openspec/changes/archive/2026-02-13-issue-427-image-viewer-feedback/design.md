## Context

issue #427 では、画像ビューア画面のトップバーアイコンおよびサムネイル操作時に、ユーザーがタップ/長押しの受理を視覚的に認識しにくい課題が報告されている。既存の機能（戻る、保存、その他メニュー、サムネイル選択）は維持しつつ、操作に対する即時フィードバックのみを追加する必要がある。

対象は画像ビューアの Compose UI に限定され、データ層や API には変更を加えない。既存の Material3 コンポーネントと Compose animation API を利用し、依存追加なしで実装可能な方針を採用する。

## Goals / Non-Goals

**Goals:**

- トップバー3ボタン（戻る、保存、その他）にタップ時の縮小アニメーションを追加する。
- トップバー3ボタンに長押し時のプレーンツールチップ表示を追加する。
- サムネイル項目にタップ時の縮小アニメーションを追加する。
- 既存のクリック/長押しハンドリング（ナビゲーション、保存、メニュー表示、画像切替）を変更せずに維持する。

**Non-Goals:**

- ツールチップ文言の多言語化やデザイン刷新。
- 画像ビューア以外の画面（スレッド画面等）への同種フィードバック適用。
- 触覚フィードバックやサウンドなど視覚以外のフィードバック追加。

## Decisions

- トップバーアイコンは `IconButton` 相当のインタラクション領域を維持したまま、押下状態に連動する `graphicsLayer` の `scaleX/scaleY` を適用する。
  - 代替案: カスタム `pointerInput` でスケール制御。
  - 採用理由: 既存のクリック/長押し挙動やアクセシビリティを壊しにくく、実装差分を最小化できる。

- 長押しツールチップは Material3 の `PlainTooltipBox` を使い、戻る/保存/その他の各ボタンに個別の説明を表示する。
  - 代替案: `Toast` の表示。
  - 採用理由: 画面内コンテキストに沿った UI で、長押しに対する標準的なフィードバックとして一貫性がある。

- サムネイルは既存の選択状態拡大（常時強調）とは別に、押下中のみ一時的な縮小アニメーションを重ねる。
  - 代替案: リップルのみで対応。
  - 採用理由: issue で求められている「タップしたことが分かる」視認性を明確に満たせる。

- アニメーションは短時間（例: 80-120ms）で復帰するスケール変化とし、既存のページ切替やメニュー表示レスポンスを阻害しない。
  - 代替案: 200ms 以上の演出寄りアニメーション。
  - 採用理由: 操作フィードバックを目的とするため、遅延感を与えない即時反応を優先する。

## Risks / Trade-offs

- [Risk] 既存のサムネイル選択拡大と押下縮小が競合し、見た目が不自然になる可能性
  → Mitigation: 選択倍率を基準に押下倍率を乗算する形で統合し、最小スケール下限を設ける。

- [Risk] 長押しハンドラ追加で通常タップの反応が遅く感じる可能性
  → Mitigation: `combinedClickable` 等の既存入力処理を維持し、クリック判定タイミングを変更しない。

- [Risk] ツールチップがバー非表示遷移時に残留する可能性
  → Mitigation: バー非表示時に tooltip state を閉じる処理を明示し、画面状態変更時に同期する。
