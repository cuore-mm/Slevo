## ADDED Requirements

### Requirement: 本体再試行は同一画像のサムネイル再試行も同期する
システムは画像ビューア本体の再試行操作時、対象 URL について本体表示と下部サムネイル表示の再試行状態を同期しなければならないMUST。

#### Scenario: 本体再試行操作で本体とサムネイルの失敗状態が同時解除される
- **WHEN** ユーザーが画像ビューア本体の再試行ボタンを押す
- **THEN** システムは同一 URL の本体失敗状態とサムネイル失敗状態を同時に解除する

#### Scenario: 本体再試行操作でサムネイル再取得トリガーが更新される
- **WHEN** ユーザーが画像ビューア本体の再試行ボタンを押す
- **THEN** システムは同一 URL のサムネイル再取得トリガーを更新し、サムネイル再取得を開始できる状態にする

### Requirement: 通常時は本体とサムネイルの失敗状態を独立管理する
システムは通常の読み込み成功・失敗イベントにおいて、本体失敗状態とサムネイル失敗状態を相互に自動解除してはならないMUST。

#### Scenario: サムネイル成功で本体失敗は解除されない
- **WHEN** ある URL で本体が失敗状態のまま、下部サムネイルのみ読み込み成功する
- **THEN** システムは本体失敗状態を維持する

#### Scenario: 本体成功でサムネイル失敗が自動解除されない
- **WHEN** ある URL で下部サムネイルが失敗状態のまま、本体のみ読み込み成功する
- **THEN** システムはサムネイル失敗状態を維持する

### Requirement: サムネイル失敗状態は明示再試行で回復可能でなければならない
システムは下部サムネイルが失敗状態に入った後でも、明示再試行操作を契機に成功イベントで失敗状態を解除できなければならないMUST。

#### Scenario: 一時失敗後に明示再試行でサムネイル失敗が解除される
- **WHEN** 下部サムネイルが一時的に失敗し、その後ユーザーが本体再試行を行ってサムネイル取得が成功する
- **THEN** システムは対象 URL のサムネイル失敗状態を解除する
