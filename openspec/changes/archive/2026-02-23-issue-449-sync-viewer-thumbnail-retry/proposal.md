## Why

画像ビューアで本体と下部サムネイルの失敗状態を分離した結果、サムネイルが失敗状態に入ると回復できない自己ロックが発生しました。一方で、常時連動に戻すと「サムネイル成功で本体失敗が勝手に解除される」既存不具合が再発するため、通常時の独立性を維持しつつ明示リトライ時のみ画像単位で連動させる必要があります。

## What Changes

- 本体失敗状態とサムネイル失敗状態の通常時独立を維持し、サムネイル成功で本体失敗を解除しない契約を継続する。
- 本体の再試行ボタン操作時のみ、同一 URL の本体/サムネイル失敗状態を同時解除して再取得対象を同期する。
- サムネイル側に明示リトライ用の再取得トリガー（nonce 等）を導入し、失敗オーバーレイ表示中でも回復可能な状態遷移を保証する。

## Capabilities

### New Capabilities
- なし

### Modified Capabilities
- `image-viewer`: 画像再試行時の本体/サムネイル連動条件と、サムネイル失敗状態の回復契約を変更する。

## Impact

- 対象コード: `ImageViewerPager`, `ImageViewerThumbnailBar`, `ImageViewerViewModel`, `ImageViewerScreenEffects` の失敗状態管理と再試行イベント配線。
- UX 影響: 通常時は誤った自動復帰を防ぎつつ、ユーザーの明示再試行で画像単位の再取得が行われる。
- テスト観点: 本体再試行時の両状態解除、サムネイル自己ロック非再発、404/410 表示契約維持。
