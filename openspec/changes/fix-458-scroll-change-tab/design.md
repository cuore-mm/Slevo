## Context

`BbsRouteScaffold` は `HorizontalPager` 上にタブページを配置し、各ページ内でスレッドのレス一覧や板一覧などのスクロール可能な本文を表示している。Issue #458 では、本文操作中に検出された横方向ドラッグが、縦スクロール中でも隣接タブ切り替えとして誤認される場合がある。期待挙動は、本文領域のドラッグは本文側の操作で消費され、専用のタブ操作導線による切り替えは維持されることである。

## Goals / Non-Goals

**Goals:**
- スレッド画面と板画面で、本文領域のドラッグから Pager のタブ切り替えが起きないようにする。
- レス一覧・板一覧の縦スクロール応答性を維持する。
- ボトムバーのスワイプや明示的なタブ操作など、本文外の意図したタブ遷移導線を維持する。
- thread/board の業務ロジックを大きく書き換えず、ルートスキャフォールドの入力境界で対処する。

**Non-Goals:**
- `GestureSettings` の割り当て仕様そのものを再設計すること。
- タブのデータモデル、永続化、開閉ルールを変更すること。
- 新しいナビゲーション系依存ライブラリを導入すること。

## Decisions

1. `HorizontalPager` の手動スワイプを無効化し、本文領域からのタブ切り替え伝播を根本的に遮断する。
   - 理由: 本文領域の入力を一切 Pager に渡さない設計が最も確実であり、縦スクロールや方向ジェスチャーへの副作用を避けられる。
   - 検討した代替案: 本文側の Pointer 消費による遮断。スクロールやジェスチャーを壊すリスクが高いため不採用。

2. ボトムバー領域に `PagerState` を操作する水平スクロール操作を付与し、Pager と同等のスワイプ追従・スナップ操作感を維持する。
   - 理由: ユーザーが求める操作感を保ちつつ、入力の受付面をボトムバーに限定できる。
   - 検討した代替案: ボトムバーのフリック検出のみでタブ切り替え。追従感が薄くなるため不採用。

3. 入力契約に焦点を当てた回帰テストを更新し、本文ドラッグの不干渉とボトムバーのスワイプ追従を検証する。
   - 理由: 本不具合は再現が不安定であり、UI テストによる継続的検証が必要である。
   - 検討した代替案: 手動 QA のみで確認。間欠不具合に対する再発防止力が弱いため不採用。

## Risks / Trade-offs

- [Risk] ボトムバーのスクロール伝播が弱いとスワイプ追従が不自然になる可能性がある。 -> Mitigation: `PagerState` への scrollable 連携を使い、Pager と同じフリング挙動を再利用する。
- [Risk] 本文領域の操作が Pager へ伝播しないことで、意図したタブ切り替え導線が減少する。 -> Mitigation: ボトムバーのスワイプと明示的タブ操作を必ず維持し、回帰テストで保証する。
- [Risk] nested scroll の体感挙動が端末差で微妙に変化する可能性がある。 -> Mitigation: Compose テストに加えて thread/board の縦スクロールを手動で重点確認する。
