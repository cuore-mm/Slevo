# image-viewer Specification

## Purpose
TBD - created by archiving change add-image-viewer-swipe. Update Purpose after archive.
## Requirements
### Requirement: レス内画像のスワイプ閲覧
システムは画像ビューアで、同一レス本文から抽出した画像URLを左右スワイプで切り替えられるようにするSHALL。

#### Scenario: 同一レスの画像を横スワイプで切り替える
- **WHEN** ユーザーがレス内の画像サムネイルから画像ビューアを開き、同一レス内に複数画像が存在する
- **THEN** 画像ビューアはレス本文の画像URL順にページを並べ、左右スワイプで切り替えられる

### Requirement: 初期表示画像の一致
システムは画像ビューアを開いた際、タップされた画像URLを初期ページに設定するSHALL。

#### Scenario: タップした画像を初期表示する
- **WHEN** ユーザーがレス内の画像サムネイルをタップして画像ビューアを開く
- **THEN** 画像ビューアは該当URLの画像を最初に表示する

### Requirement: 切替対象の限定
システムは画像ビューアの切替対象を同一レス本文から抽出した画像URLに限定するSHALL。

#### Scenario: 他レスの画像を含めない
- **WHEN** ユーザーが画像ビューアを開く
- **THEN** 切り替え可能な画像は同じレス本文から抽出されたURLのみで構成される

### Requirement: サムネイルバーの表示
システムは画像ビューア下部に、同一レス本文から抽出した画像URLのサムネイルを横並びで表示するSHALL。

#### Scenario: 同一レス内画像のサムネイルを表示する
- **WHEN** ユーザーが画像ビューアを開く
- **THEN** 画像ビューア下部に同一レス本文の画像サムネイルが横並びで表示される

### Requirement: サムネイル表示の連動
システムは画像ビューアの上部バー表示と連動してサムネイルバーの表示/非表示を切り替えるSHALL。

#### Scenario: タップでバー表示を切り替える
- **WHEN** ユーザーが画像をタップして上部バー表示を切り替える
- **THEN** サムネイルバーの表示も同様に切り替わる

### Requirement: 表示中サムネイルの強調と中央寄せ
システムは表示中の画像サムネイルを少し拡大して強調し、サムネイル一覧の中央に表示するようスクロールするSHALL。

#### Scenario: 現在表示中のサムネイルが中央に位置する
- **WHEN** 画像ビューアで表示中の画像が切り替わる
- **THEN** 該当サムネイルが拡大表示され、サムネイル一覧の中央付近に表示される

### Requirement: サムネイルタップで切替
システムはサムネイルをタップしたとき、その画像に表示を切り替えるSHALL。

#### Scenario: サムネイルタップで表示画像を変更する
- **WHEN** ユーザーがサムネイルをタップする
- **THEN** 画像ビューアの表示がタップした画像に切り替わる

